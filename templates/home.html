<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather</title>
    <link rel="stylesheet" href="../static/css/style.css">
</head>

<body>
    <div class="container">

        <div class="upper-data">
            <img src="../static/images/day.jpg" *ngIf="14 > 15">
            <img src="../static/images/night.jpg" *ngIf="14 <= 15">

            <div class="weather-data">
                <div class="location">{{ city }}</div>
                <div class="temperature">17Â°C</div>
            </div>
        </div>

        <div class="lower-data">
            <div class="more-info-label">
                More Info
            </div>
            <div class="more-info-container">
                <div class="info-block">
                    <div class="info-block-label">
                        <img src="../static/images/snowflake.svg" alt="">
                        <span>min</span>
                    </div>
                    <div class="info-block-value">
                        14degC
                    </div>
                </div>

                <div class="info-block">
                    <div class="info-block-label">
                        <img src="../static/images/sun.svg" alt="">
                        <span>max</span>
                    </div>
                    <div class="info-block-value">
                        22degC
                    </div>
                </div>

                <div class="info-block">
                    <div class="info-block-label">
                        <img src="../static/images/waterdrop.svg" alt="">
                        <span>humidity</span>
                    </div>
                    <div class="info-block-value">
                        77%
                    </div>
                </div>

                <div class="info-block">
                    <div class="info-block-label">
                        <img src="../static/images/wind.png" alt="">
                        <span>wind</span>
                    </div>
                    <div class="info-block-value">
                        10 km/h 
                    </div>
                </div>

            </div>
        </div>
    </div>
    <script>
        console.log('Running')
        const options = {
            method: 'GET',
            headers: {
                'X-RapidAPI-Key': '48b40acd60mshe95879762d1b62ep1515b9jsn0c09828c305d',
                'X-RapidAPI-Host': 'weather-by-api-ninjas.p.rapidapi.com'
            }
        };

        fetch('https://weather-by-api-ninjas.p.rapidapi.com/v1/weather?city={{ city }}', options)
            .then(response => response.json())
            .then(data => fetch("/get_data", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify(data)
                }))
            .catch(err => console.error(err))


    </script>
</body>

</html>